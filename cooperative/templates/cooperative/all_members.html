{% extends 'index.html' %}
{% load staticfiles %}
{% block title %}All Members{% endblock title %}
{% block main %}
     <div class="container center-block">
        <div class="bg-secondary p-2 mb-3 card-header" style="border-radius: 15px">
            <h6 class="text-light text-center display-4" style="font-size: xx-large">All Members in {{ coop.name }}</h6>
        </div>
        <div class="mb-3 bg-white">
        {% if members_list.object_list.count > 0 %}
        {% for member in members_list.object_list %}
            <div class="card card-body card-text text-light display-4 mb-3 bg-secondary" style="font-size: large">
            <p><strong>Name: </strong><a  class="btn-link text-white" href="{% url 'profile' member.user_id %}">
                {{ member.user_detail.first_name }} {{ member.user_detail.last_name }}</a> </p>
            <p><strong>Rank: </strong>{{ member.role }}</p>
        </div>
        {% endfor %}
         <div class="card-footer bg-light text-warning  text-center display-4 pagination pagination-centered">
    <span class="step-links font-weight-normal text-center" style="font-size: x-large">
     {% if members_list.has_other_pages %}
            {% if members_list.has_previous %}
              <a href="{% url 'all_members' coop.name members_list.previous_page_number %}">Previous</a>
            {% else %}
              <span>Previous</span>
            {% endif %}
            {% for i in members_list.paginator.page_range %}
              {% if members_list.number == i %}
                <span>{{ i }} <span class="sr-only">(current)</span></span>
              {% else %}
                <a href="{% url 'all_members' coop.name i %}">{{ i }}</a>
              {% endif %}
            {% endfor %}
            {% if members_list.has_next %}
              <a href="{% url 'all_members' coop.name members_list.next_page_number %}">Next</a>
            {% else %}
              <span>Next</span>
            {% endif %}
    {% endif %}
          </span>
         </div>
        {% else %}
            <p class="text text-center p-2 display-4" style="font-size: x-large">No members yet</p>
        {% endif %}
        </div>

    </div>
{% endblock %}