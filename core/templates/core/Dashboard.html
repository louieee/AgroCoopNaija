{% extends 'index.html' %}
{% load staticfiles %}
{% block title %}Dashboard{% endblock title %}
{% block javascript %}
    <script type="text/javascript">
    function hide_my_stuff(profile, loan, invest, post, coop, edit_pro, coop_detail, part_detail ){
        if (profile === 0){
        document.getElementById('my_profile').hidden = true;
        }else if (profile === 1){
            document.getElementById('my_profile').hidden = false;
        }
        if (loan === 0){
            document.getElementById('my_loans').hidden = true;
        }else if (loan === 1){
            document.getElementById('my_loans').hidden = false;
        }
        if (invest === 0){
            document.getElementById('my_investments').hidden = true;
        }else if (invest === 1){
            document.getElementById('my_investments').hidden = false;
        }
        if (post === 0){
            document.getElementById('my_posts').hidden = true;
        }else if (post === 1){
            document.getElementById('my_posts').hidden = false
            document.getElementById('general_post_').hidden = false
            document.getElementById('coop_post_').hidden = false
        }
        if (coop === 0){
            document.getElementById('cooperative_post').hidden = true;
        }else if (coop === 1){
            document.getElementById('cooperative_post').hidden = false;
        }
        if (edit_pro === 0){
            document.getElementById('edit_profile').hidden = true;
        }else if (edit_pro === 1){
            document.getElementById('edit_profile').hidden = false;
        }
        if (coop_detail === 0){
            document.getElementById('my_coop_detail').hidden= true;
        }else if (coop_detail === 1){
            document.getElementById('my_coop_detail').hidden = false;
        }
        if (part_detail === 0){
             document.getElementById('part_detail').hidden = true;
        }else if (part_detail === 1){
            document.getElementById('part_detail').hidden = false;
        }
    }
    function my_post_hide(gen,coop_){
        if (gen === 0){
            document.getElementById('general_post_').hidden = true;
        }else if (gen === 1){
            document.getElementById('general_post_').hidden = false;
            document.getElementById('123_title').innerText = 'My General Posts';
        }
        if (coop_ === 0){
            document.getElementById('coop_post_').hidden= true;
        }else if (coop_ === 1){
            document.getElementById('coop_post_').hidden = false;
            document.getElementById('123_title').innerText = 'My Cooperative Posts';
        }
    }
    function my_loan_hide(paid,unpaid, unverified){
        if (paid === 0){
            document.getElementById('paid_loans_').hidden= true;
        }else if (paid === 1){
            document.getElementById('paid_loans_').hidden = false;
            document.getElementById('my_loan_title_').innerText = 'My Paid Loans';
        }
        if (unpaid === 0){
            document.getElementById('unpaid_loans_').hidden = true;
        }else if (unpaid === 1){
            document.getElementById('unpaid_loans_').hidden = false;
            document.getElementById('my_loan_title_').innerText = 'My Unpaid Loans';
        }
        if (unverified === 0){
            document.getElementById('unverified_loans_').hidden= true;
        }else if (unverified === 1){
            document.getElementById('unverified_loans_').hidden = false;
            document.getElementById('my_loan_title_').innerText = 'My Unverified Loans';
        }
    }
    function my_investment_hide(verified, unverified_){
        if (verified === 0){
            document.getElementById('verified_investments_').hidden= true;
        }else if (verified === 1){
            document.getElementById('verified_investments_').hidden = false;
            document.getElementById('my_investment_title_').innerText = 'My Verified Investments';
        }
        if (unverified_ === 0){
            document.getElementById('unverified_investments_').hidden = true;
        }else if (unverified_ === 1){
            document.getElementById('unverified_investments_').hidden = false;
            document.getElementById('my_investment_title_').innerText = 'My Unverified Investments';
        }

    }
    window.onload = function init(){
        document.getElementById('my_loans').hidden = true;
       document.getElementById('my_investments').hidden = true;
       document.getElementById('my_posts').hidden = true;
       document.getElementById('cooperative_post').hidden = true;
       document.getElementById('edit_profile').hidden = true;
        document.getElementById('my_coop_detail').hidden = false;
        document.getElementById('part_detail').hidden = false;
        document.getElementById('my_profile').hidden = false;
    }; {
    }

    </script>
    <link href="{% static 'sb/css/sb-admin-2.min.css' %}" rel="stylesheet">
{% endblock %}
{% block main %}
<main id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Nav Item - Dashboard -->
      <li class="nav-item p-3">
            <a class="nav-link" href="javascript:{hide_my_stuff(1,0,0,0,0,0,1,1);}" >
                <i class="fas fa-fw fa-tachometer-alt"></i>
                <span class=" active text-white">Dashboard</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider"/>

      <!-- Heading -->
      <div class="sidebar-heading">
        Post
      </div>

      <!-- Nav Item - Pages Collapse Menu -->
      <li class="nav-item">
       <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePages5" aria-expanded="true" aria-controls="collapsePages">
          <i class="fas fa-fw fa-folder"></i>
          <span>My Post</span>
        </a>
        <div id="collapsePages5" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
              <a class="collapse-item" href="javascript:{hide_my_stuff(0,0,0,1,0,0,0,0); my_post_hide(1,0);}">General Posts</a>
            <a class="collapse-item" href="javascript:{hide_my_stuff(0,0,0,1,0,0,0,0); my_post_hide(0,1);}">Cooperative Posts</a>
        </div>
        </div>
      </li>

      <!-- Nav Item - Utilities Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link" href="javascript:{hide_my_stuff(0,0,0,0,1,0,0,0);}">
          <i class="fas fa-fw fa-newspaper"></i>
          <span>Cooperative Posts</span>
        </a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        Cooperative Menu
      </div>

      <!-- Nav Item - Pages Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePages" aria-expanded="true" aria-controls="collapsePages">
          <i class="fas fa-fw fa-folder"></i>
          <span>My Loans</span>
        </a>
        <div id="collapsePages" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
            <a class="collapse-item" href="javascript:{hide_my_stuff(0,1,0,0,0,0,0,0); my_loan_hide(1,0,0);}">Paid Loans</a>
            <a class="collapse-item" href="javascript:{hide_my_stuff(0,1,0,0,0,0,0,0); my_loan_hide(0,1,0);}">Unpaid Loans</a>
            <a class="collapse-item" href="javascript:{hide_my_stuff(0,1,0,0,0,0,0,0); my_loan_hide(0,0,1);}">Unverified Loans</a>
        </div>
        </div>
      </li>

      <!-- Nav Item - Charts -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePages2" aria-expanded="true" aria-controls="collapsePages">
          <i class="fas fa-fw fa-folder"></i>
          <span>My Investments</span>
        </a>
        <div id="collapsePages2" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
            <a class="collapse-item" href="javascript:{hide_my_stuff(0,0,1,0,0,0,0,0); my_investment_hide(1,0);}">Verified Investments</a>
            <a class="collapse-item" href="javascript:{hide_my_stuff(0,0,1,0,0,0,0,0); my_investment_hide(0,1);}">UnVerified Investments</a>
        </div>
        </div>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider d-none d-md-block">

      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>

    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>

          <!-- Topbar Search -->

          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">

              <!-- Nav Item - Investments -->
            <li class="nav-item dropdown no-arrow mx-1" title="New Investments">
              <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               <i class="fas fa-donate fa-fw"></i>
                <!-- Counter - Alerts -->
                <span id="invest_count_display" class="badge badge-danger badge-counter">{% if notifications %}{{ notifications.investment_display }}{% else %}0{% endif %}</span>
              </a>
              <!-- Dropdown - Alerts -->
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="alertsDropdown">
                <h6 class="dropdown-header">
                  New Investments
                </h6>
                    {% if coop.all_new_investments.count > 0 %}
                  {% for invest in coop.all_new_investments %}
                <a class="dropdown-item d-flex align-items-center" href="javascript:{
                $.ajax({
                    type: 'GET',
                    url: '{% url 'add_viewed_invest' %}',
                    data: {'id': {{ invest.id }}, 'id_not': {{ notifications.id }}  },
                    success: function() {
                    {% if invest.id in notifications.invest_viewed_list %}
                    {% else %}
                        const x = document.getElementById('invest_count_display');
                        x.innerText = Number(x.innerText) + 1;
                    {% endif %}

                      document.getElementById('invest_{{ invest.id }}').setAttribute('class','font-weight-normal');
                      document.getElementById('invest_modal_{{invest.id }}').setAttribute('aria_hidden','false');
                    }
                    })}">
                    <div class="mr-3">
                    <div class="icon-circle bg-primary">
                      <i class="fas fa-file-alt text-white"></i>
                    </div>
                  </div>
                  <div id="invest_{{ invest.id }}" class="{% if invest.id in notifications.invest_viewed_list %} font-weight-normal{% else %}font-weight-bold{% endif %}">
                    <div class="small text-gray-500">For {{ invest.need_detail }}</div>
                    <span>Investor: {{ invest.investor_detail.first_name }} {{ invest.investor_detail.last_name }}</span>
                      <span>Amount: N{{ invest.amount }}</span>
                  </div>
                </a>
                    <div class="modal fade" id="invest_modal_{{ invest.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content card">
                              <div class="modal-header card-header">
                                <h5 class="modal-title" id="exampleModalLabel">Investment Detail</h5>
                              </div>
                                <div class=" modal-body card-body text text-dark">
                                    <p><strong>Investor: </strong> {{ invest.investor_detail.first_name }}  {{ invest.investor_detail.first_name }} </p>
                                    <p><strong>Need: </strong> {{ invest.need_detail }}</p>
                                {%if user.is_cooperative_member and user.is_admin %}
                                    <p><strong>Bank: </strong> {{ invest.investor_detail.bank }}</p>
                                    <p><strong>Account Name: </strong> {{ invest.investor_detail.account_name }}</p>
                                    <p><strong>Account Number: </strong> {{ invest.investor_detail.account_number }}</p>
                                {% endif %}
                                    <p><strong>Amount: </strong> N{{ invest.amount }}</p>
                                    <p><strong>Time of Investment: </strong> {{invest.time }}</p>
                                    <p><strong>Proof of Investment: </strong> <a class="card-link" href="{{ invest.payment_proof.url }}">{{ invest.payment_proof.url }}</a></p>
                                </div>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                            <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            {%if user.is_cooperative_member and user.is_admin %}
                                    <a  id="validate_inv_{{ invest.id }}" href="javascript:{
                                    $.ajax({
                                        type: 'GET',
                                        url: '{% url 'validate_investment' %}',
                                        data: {'id': {{ invest.id}}, 'value': 1  },
                                        success: function() {
                                        const a = document.getElementById('validate_inv_{{ invest.id }}');
                                        const b = document.getElementById('invalidate_inv_{{ invest.id }}');
                                        a.innerText = 'Validated';
                                        b.hidden=true;
                                        }
                                        })
                                        }" class="btn btn-success ">Validate</a>
                                    <a  id="invalidate_inv_{{ invest.id }}" href="javascript:{
                                    $.ajax({
                                        type: 'GET',
                                        url: '{% url 'validate_investment' %}',
                                        data: {'id': {{ invest.id}}, 'value': 0  },
                                        success: function() {
                                        const a = document.getElementById('invalidate_inv_{{ invest.id }}');
                                        const b = document.getElementById('validate_inv_{{ invest.id }}');
                                        a.innerText = 'Invalidated';
                                        b.hidden = true;
                                        }
                                        })}" class="btn btn-danger">Invalidate</a>
                                {% endif %}
                          </div>
                              </div>
                          </div>
                    </div>
                {% endfor %}
                <a class="dropdown-item text-center small text-gray-500" href="{% url 'all_investments' coop.id %}">Show All</a>
              {% endif %}
              </div>
            </li>


              <!-- Nav Item - Loans -->
            <li class="nav-item dropdown no-arrow mx-1" title="New Loans">
                <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-money-check fa-fw"></i>
                <!-- Counter - Alerts -->
                <span id="loan_count_display" class="badge badge-danger badge-counter">{% if notifications %}{{ notifications.loan_display }}{% else %}0{% endif %}</span>
              </a>
              <!-- Dropdown - Alerts -->
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="alertsDropdown">
                <h6 class="dropdown-header">
                  New Loans
                </h6>
                {% if coop.all_new_loans.count > 0 %}
                  {% for loan in  coop.all_new_loans %}
                <a class="dropdown-item d-flex align-items-center" href="javascript:{
                $.ajax({
                    type: 'GET',
                    url: '{% url 'add_viewed_loan' %}',
                    data: {'id': {{ loan.id}} , 'id_not': {{ notifications.id }} },
                    success: function() {
                    {% if loan.id in notifications.loan_viewed_list %}
                    {% else %}
                        const x = document.getElementById('loan_count_display');
                        x.innerText = Number(x.innerText) + 1;
                    {% endif %}

                      document.getElementById('loan_{{ loan.id }}').setAttribute('class','font-weight-normal');
                    document.getElementById('loan_modal_{{loan.id }}').setAttribute('aria_hidden','false');
                    }
                    })}">
                  <div class="mr-3">
                    <div class="icon-circle bg-primary">
                      <i class="fas fa-file-alt text-white"></i>
                    </div>
                  </div>
                  <div id="loan_{{ loan.id }}" class="{% if loan.id in notifications.loan_viewed_list %} font-weight-normal{% else %}font-weight-bold{% endif %}">
                    <div class="small text-gray-500">{{ loan.time_asked }}</div>
                    <span>Borrower: {{ loan.borrower_detail.first_name }} {{ loan.borrower_detail.last_name }}</span>
                  <span>Amount: N{{ loan.amount }}</span>
                  </div>
                </a>
                      <div class="modal fade" id="loan_modal_{{ loan.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content card">
                              <div class="modal-header card-header">
                                <h5 class="modal-title" id="exampleModalLabel">Loan Detail</h5>
                              </div>
                                <div class=" modal-body card-body text text-dark">
                                    <p><strong>Borrower: </strong> {{ loan.borrower_detail.first_name }}  {{ invest.investor_detail.first_name }} </p>
                                {%if user.is_cooperative_member and user.is_admin %}
                                    <p><strong>Bank: </strong> {{ loan.borrower_detail.bank }}</p>
                                    <p><strong>Account Name: </strong> {{ loan.borrower_detail.account_name }}</p>
                                    <p><strong>Account Number: </strong> {{ loan.borrower_detail.account_number }}</p>
                                {% endif %}
                                    <p><strong>Amount: </strong> N{{ loan.amount }}</p>
                                    <p><strong>Time of Request: </strong> {{loan.time_asked }}</p>
                                    <p><strong>Collateral: </strong>{% for coll in loan.all_collaterals %}
                                        <a class="card-link" href="{{ coll.document.url }}"> {{ coll.title }} </a> {% endfor %}</p>
                                </div>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                            <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            {%if user.is_cooperative_member and user.is_admin %}
                                    <a  id="validate_loan_{{ loan.id }}" href="javascript:{
                                    $.ajax({
                                        type: 'GET',
                                        url: '{% url 'validate_loan' %}',
                                        data: {'id': {{ loan.id}}, 'value': 'G'  },
                                        success: function() {
                                        const a = document.getElementById('validate_loan_{{ loan.id }}');
                                        const b = document.getElementById('invalidate_loan_{{ loan.id }}');
                                        a.innerText = 'Validated';
                                        b.hidden =true;
                                        }
                                        });}" class="btn btn-success">Validate</a>
                                    <a  id="invalidate_loan_{{ loan.id }}" href="javascript:{
                                    $.ajax({
                                        type: 'GET',
                                        url: '{% url 'validate_loan' %}',
                                        data: {'id': {{ loan.id}}, 'value': 'D'},
                                        success: function() {
                                        const a = document.getElementById('invalidate_loan_{{ loan.id }}');
                                        const b = document.getElementById('validate_loan_{{ loan.id }}');
                                        a.innerText = 'Invalidated';
                                        b.hidden =true;
                                        }
                                        })}" class="btn btn-danger">Invalidate</a>
                            {% endif %}
                          </div>
                              </div>
                          </div>
                    </div>
                  {% endfor %}

                <a class="dropdown-item text-center small text-gray-500" href="{% url 'all_loans' coop.id %}">Show All</a>
              {% endif %}
              </div>
            </li>



              <!-- Nav Item - Membership request -->
            <li class="nav-item dropdown no-arrow mx-1" title="Membership Request">
                <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-money-check fa-fw"></i>
                <!-- Counter - Alerts -->
                <span id="member_count_display" class="badge badge-danger badge-counter">{% if notifications %}{{ notifications.membership_display }}{% else %}0{% endif %}</span>
              </a>
              <!-- Dropdown - Alerts -->
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="alertsDropdown">
                <h6 class="dropdown-header">
                  New Membership request
                </h6>
              {% if coop.membership_requests.count > 0 %}
                  {% for mem_request in  coop.membership_requests %}
                <a  id='notify_mem_st_{{ mem_request.id }}' class="dropdown-item d-flex align-items-center" href="javascript:{
                $.ajax({
                    type: 'GET',
                    url: '{% url 'add_viewed_member' %}',
                    data: {'id': {{ mem_request.id}} , 'id_not': {{ notifications.id }}  },
                    success: function() {
                    {% if mem_request.id in notifications.member_viewed_list %}
                    {% else %}
                        const x = document.getElementById('member_count_display');
                        x.innerText = Number(x.innerText) + 1;
                    {% endif %}

                      document.getElementById('mem_req_{{ mem_request.id }}').setAttribute('class','font-weight-normal');
                     document.getElementById('mem_modal_{{mem_request.id }}').setAttribute('aria_hidden','false');
                    }
                    })}">
                  <div class="mr-3">
                    <div class="icon-circle bg-primary">
                      <i class="fas fa-file-alt text-white"></i>
                    </div>
                  </div>
                  <p id="mem_req_{{ mem_request.id }}" class="{% if mem_request.id in notifications.member_viewed_list %}font-weight-normal{% else %}font-weight-bold{% endif %}">
                   {{ mem_request }}
                  </p>
                </a>
                      <div class="modal fade" id="mem_modal_{{ mem_request.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog" role="document">
                            <div class="modal-content card">
                              <div class="modal-header card-header">
                                <h5 class="modal-title" id="exampleModalLabel">Membership Request Detail</h5>
                              </div>
                                <div class=" modal-body card-body text text-dark">
                                    <p><strong>Name: </strong> {{ mem_request.name}}</p>
                                    <p><strong>Age: </strong> {{ mem_request.sender_detail.user_age }} years old</p>
                                    <p><strong>Gender: </strong> {% if mem_request.gender == 'M' %}Male{% elif mem_request.gender == 'F' %}Female{% endif %}</p>
                                    <p><strong>Interest: </strong> {{ mem_request.specialization}}</p>
                                    <p><strong>Email: </strong> {{ mem_request.email}}</p>
                                    <p><strong>Phone Number: </strong> {{ mem_request.phone}}</p>
                                {%if user.is_cooperative_member and user.is_admin %}
                                    <p><strong>Bank: </strong> {{ mem_request.sender_detail.bank }}</p>
                                    <p><strong>Account Name: </strong> {{ mem_request.sender_detail.account_name }}</p>
                                    <p><strong>Account Number: </strong> {{ mem_request.sender_detail.account_number }}</p>
                                {% endif %}
                                </div>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                            <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            {%if user.is_cooperative_member and user.is_admin %}
                                    <a  id="accept_mem_{{ mem_request.id }}" href="javascript:{
                                    $.ajax({
                                        type: 'GET',
                                        url: '{% url 'react_request' %}',
                                        data: {'id': {{ mem_request.id}}, 'value': 1  },
                                        success: function() {
                                        const a = document.getElementById('accept_mem_{{ mem_request.id }}');
                                        const b = document.getElementById('decline_mem_{{ mem_request.id }}');
                                        a.innerText = 'Accepted';
                                        b.hidden = true;
                                        }
                                        })}" class="btn btn-success">Accept</a>
                                 <a  id="validate_mem_{{ mem_request.id }}" href="javascript:{
                                    $.ajax({
                                        type: 'GET',
                                        url: '{% url 'react_request' %}',
                                        data: {'id': {{ mem_request.id}}, 'value': 0  },
                                        success: function() {
                                        const a = document.getElementById('decline_mem_{{ mem_request.id }}');
                                        const b = document.getElementById('accept_mem_{{ mem_request.id }}');
                                        a.innerText = 'Declined';
                                        b.hidden = true;
                                        }
                                        })}" class="btn btn-danger">Decline</a>
                                {% endif %}
                          </div>
                              </div>
                          </div>
                    </div>
                  {% endfor %}
                <a class="dropdown-item text-center small text-gray-500" href="{% url 'all_membership' coop.id %}">Show All</a>
              {% endif %}
              </div>
            </li>


            <!-- Nav Item - Needs -->
            <li class="nav-item dropdown no-arrow mx-1" title="Needs">
              <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-envelope fa-fw"></i>
                <!-- Counter - Messages -->
                <span id='need_count_display' class="badge badge-danger badge-counter">{% if notifications %}{{ notifications.need_display }}{% else %}0{% endif %}</span>
              </a>
              <!-- Dropdown - Messages -->
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="messagesDropdown">
                <h6 class="dropdown-header">
                  Cooperative Needs
                </h6>
              {% if coop.all_needs.count > 0 %}
                  {% for need in coop.all_needs %}
                <a class="dropdown-item d-flex align-items-center" href="javascript:{
                $.ajax({
                    type: 'GET',
                    url: '{% url 'add_viewed_need' %}',
                    data: {'id': {{ need.id}}, 'id_not': {{ notifications.id }}  },
                    success: function() {
                    {% if need.id in notifications.need_viewed_list %}
                    {% else %}
                        const x = document.getElementById('need_count_display');
                        x.innerText = Number(x.innerText) + 1;
                    {% endif %}
                      document.getElementById('need_{{ need.id }}').setAttribute('class','font-weight-normal');
                      document.getElementById('need_modal_{{need.id }}').setAttribute('aria_hidden','false');
                    }
                    })}">

                  <div class="dropdown-list-image mr-3">
                    <img class="rounded-circle" src="https://source.unsplash.com/fn_BT9fwg_E/60x60" alt="">
                    <div class="status-indicator bg-success"></div>
                  </div>
                  <div id="need_{{ need.id }}" class="{% if need.id in notifications.need_viewed_list %}font-weight-normal{% else %}font-weight-normal{% endif %}">
                    <div class="text">{{need.title }}</div>
                    <div class="small text-gray-500">Amount Needed: N{{ need.amount }}</div>
                  </div>
                </a>
                      <div class="modal fade" id="need_modal_{{ need.id }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Need Detail</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text font-weight-normal">
        <p><strong>Title: </strong> {{ need.title }}</p>
        <p><strong>Amount: </strong> {{ need.amount }}</p>
        <p><strong>Description: </strong><span class="text text-justify">{{ need.body }}</span></p>
        <p><strong>Time of Use: </strong>{{ need.time }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
                  {% endfor %}
                <a class="dropdown-item text-center small text-gray-500" href="{% url 'all_needs' coop.id %}">show all</a>
              {% endif %}
              </div>
            </li>

            <div class="topbar-divider d-none d-sm-block"></div>

            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="mr-2 d-none d-lg-inline text-gray-600 small">{{ user.username}}</span>
                <img class="img-profile rounded-circle" src="{% if user.image %}{{ user.image.url }}{% else %}{% static 'seek/images/a1.jpg' %}{% endif %}" height="150" width="150" >
              </a>
              <!-- Dropdown - User Information -->
              <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="#">
                  <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                  Profile
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                  Settings
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                  Activity Log
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                  <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                  Logout
                </a>
              </div>
            </li>

          </ul>
        </nav>
        <!-- End of Topbar -->

        <!-- Begin my_profile -->
        <div class="container-fluid" id="my_profile">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-2 text-gray-800">Dashboard</h1>
            <span id="edit_profile_btn" class="ml-auto"><a  onclick= "hide_my_stuff(1,0,0,0,0,1,0,0); $('#edit_profile_btn').attr('hidden', 'true'); "
                     class="d-sm-inline-block text-light btn btn-sm btn-primary shadow-sm"><i class="fas fa-edit fa-sm text-white-50"></i> Edit Profile</a></span>
          </div>
        <hr/>

          <!-- profile detail-->
          <div class="row">
              <div class="col-sm-4">
                   <img style="border-radius: 100%;
                             background-color: white;
                              width: 50%;"
                                 src="{% if user.image %}{{ user.image.url }}{% else %}{% static 'seek/images/a1.jpg' %}{% endif %}"
                                 class="img img-responsive img-circle p-3" width="300" height="200"
                                 />
              </div>
              <div class="col-sm-8">
                  <div class="mr-auto bg-light p-3">
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  style="color: #546c8a">Name :</strong> {{ user.first_name }} {{ user.last_name }}</p>
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  style="color: #546c8a">Age :</strong> {{ user.user_age }} Years Old</p>
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  style="color: #546c8a">Phone :</strong> {{ user.phone_no }}</p>
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  style="color: #546c8a">Email :</strong> {{ user.email }}</p>
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  style="color: #546c8a">Location :</strong> {{ user.location }}</p>
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  style="color: #546c8a">Area of Interest :</strong> {{ user.specialization }}</p>
                     </div>
              </div>


          </div>

          <div class="row" id="my_coop_detail">
            <div class="col-xl-12 col-lg-12">
              <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                  <h6 class="m-0 font-weight-bold text-primary">Cooperative Membership Information</h6>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="bg-light p-3">
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  class="text-primary">
                        Cooperative Name :</strong> {{ member.cooperative.name }}</p>
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  class="text-primary">Cooperative Specialization :</strong> {{ member.cooperative.Area_of_Specialization }}</p>
                    <p class="text text-justify display-4" style="font-size: large">
                        <strong  class="text-primary">Role: </strong> {{ member.role }}</p>
                    </div>
                </div>
                  </div>
                </div>
        </div>
          <div class="row" id="part_detail">

            <div class="col-xl-12 col-lg-12">
              <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                  <h6 class="m-0 font-weight-bold text-primary">Partner Information</h6>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="bg-light p-3">
                        <p class="text text-justify display-4" style="font-size: large">
                            <strong  class="text-primary">Corporate Name :</strong> {{ partner.corporate_name }}</p>
                        <p class="text text-justify display-4" style="font-size: large">
                            <strong  class="text-primary" >Website :</strong> {{ partner.website }}</p>
                        <p class="text text-justify display-4" style="font-size: large">
                            <strong  class="text-primary" >Biography :</strong> {{ partner.biography }}</p>
                    </div>
                </div>
                  </div>
                </div>
        </div>
        <div class="row" id="edit_profile">

            <div class="col-xl-12 col-lg-12">
              <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                  <h6 class="m-0 font-weight-bold text-primary">Edit Profile Information</h6>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                   <div class="col-sm-12">
                         <form action="{% url 'update_profile' %}" method="post">
                         {% csrf_token %}
                         <div class="row  form form-group">
                         <div class="col-md-12 pb-2">
                         <h4 class="text text-center ">Personal Information</h4>
                             <hr/>
                         </div>
                             <div class="col-md-12 pb-2">
                                        <input  placeholder="First Name" type="text" path="firstName" name="fn"
                                               value="{{ user.first_name }}"
                                                disabled
                                               class="form-control input-sm"/>
                                    </div>
                             <div class="col-md-12 pb-2">
                                        <input placeholder="Last Name" type="text" path="lastName" name="ln"
                                               value="{{ user.last_name }}"
                                               disabled
                                               class="form-control input-sm"/>
                                    </div>
                            <div class="col-md-12 pb-2">
                                <input placeholder="Email" type="email" path="email" id="email"
                                       value="{{ user.email }}" required
                                       class="form-control input-sm"/>
                            </div>
                            <div class="col-md-12 pb-2">
                                <input placeholder="Phone Number" type="tel" path="mobile" id="mobile"
                                       class="form-control input-sm"
                                       value="{{ user.phone_no }}"/>
                            </div>
                             <div class="col-md-12 pb-2">
                                <input title="Profile Picture" type="file" path="image" name="image"
                                       value="{{ user.image.url }}" class="form-control input-sm"/>
                            </div>
                       </div>
                         <hr/>
                         <div class="row form form-group">
                         <div class="col-md-12 pb-2">
                         <h4 class="text text-center">Partner Information</h4>
                             <hr/>
                         </div>
                              <div class="col-md-12 pb-2">
                                <input placeholder="Corporate Name" disabled
                                       type="text" path="corp" name="corp_name" value="{{ partner.corporate_name }}" class="form-control input-sm"/>
                            </div>
                             <div class="col-md-12 pb-2">
                                <input placeholder="Website" type="url" path="web"  disabled
                                       name="web" value="{{ partner.website }}" class="form-control input-sm"/>
                            </div>
                             <div class="col-md-12 pb-2">
                                <input title="Icon" type="file" path="image" name="image"
                                       value="{{ partner.icon.url }}" class="form-control input-sm"/>
                            </div>
                            <div class="col-md-12 pb-2 sm_1">
                               <textarea class="text form-control "  rows="10" name="bio">{{ partner.biography }}</textarea>
                            </div>
                       </div>
                         <hr/>
                         <div class="row form form-group">
                         <div class="col-md-12 pb-2">
                         <h4 class="text text-center">Cooperative Information</h4>
                             <hr/>
                         </div>

                            <div class="col-md-12 pb-2">
                                    <select class="form-control" name="bank">
                                        <option selected>{{ user.bank }}</option>
                                        {% for bank in banks %}
                                            <option>{{ bank }}</option>
                                        {% endfor %}
                                    </select>
                            </div>
                          <div class="col-md-12 pb-2">
                                    <input placeholder="Bank Account Name" type="text" name="acct_name"
                                           class="form-control input-sm"
                                           value="{{ user.account_name }}"/>
                            </div>
                            <div class="col-md-12 pb-2">
                                    <input placeholder="Bank Account Number" type="text" name="acct_num"
                                           class="form-control input-sm"
                                           value="{{ user.account_number }}"
                                           />
                            </div>
                         <div class="col-md-12 pb-2">
                         <hr/>
                            <input type="submit" value="Update"
                                   class=" btn btn-info btn-block">
                        </div>
                       </div>
                        </form>
                </div>
                  </div>
                </div>
        </div>
        <!-- /.container-fluid -->

      </div>
        </div>
      <!-- End of my_profile -->
      <!-- Begin post -->
        <div class="container-fluid" id="my_posts">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 id="123_title"  class="h3 mb-2 text-gray-800">My Posts</h1>
              <a href="{% url 'make_post' %}" class="d-sm-inline-block btn btn-sm btn-primary"><i class="fas fa-edit fa-sm text-white-50"></i>Add New Post</a>
          </div>
        <hr/>
          <!-- profile detail-->
          <div class="row" id="general_post_">
              <div class="col-sm-12">
                  <div class="container">
                  {% if user.is_partner and user.is_cooperative or user.is_partner %}
                        {% if partner.all_posts.count == 0 %}
                            <div class="container center-block col-sm-12">
           <h4 class="text text-center">You have not added any post yet</h4>
        </div>
                        {% else %}
                            {% for post in partner.all_posts %}
                                    <div class="row card border-bottom-warning shadow-3 rounded mb-2">
                                        <div class="col-sm-12">
                                            <div class="card-header">
                                                            <p class="text text-center">
                                                                <a class=" text text-center text-warning  display-4 font-italic card-link"
                                                                   style="color:#546c8a; font-size: xx-large"
                                                                   href="{% url 'post_detail' post.id %}">{{ post.title }}</a>
                                                <span class="ml-auto text-left text text-muted font-italic"> at {{ post.format_date }}</span></p>
                                            </div>
                                            <div class="col-sm-12 card-body">
                                                <p class="text text-justify">{{ post.post_summary }}...<a class="card-link" href="{% url 'post_detail' post.id %}">Read More</a></p>
                                            </div>
                                            </div>
                                     </div>
                            {% endfor %}
                        {% endif %}
                  {% else %}
                      {% if member.general_posts.count == 0 %}
                            <div class="container center-block col-sm-12">
           <h4 class="text text-center p-3 bg-white">You have not added any post yet</h4>
        </div>
                        {% else %}
                            {% for post in member.general_posts %}
                                 <div class="row card border-bottom-warning shadow-3 rounded mb-2">
                                        <div class="col-sm-12">
                                            <div class="card-header">
                                                            <p class="text text-center">
                                                                <a class=" text text-center text-warning  display-4 font-italic card-link"
                                                                   style="color:#546c8a; font-size: xx-large"
                                                                   href="{% url 'post_detail' post.id %}">{{ post.title }}</a>
                                                <span class="ml-auto text-left text text-muted font-italic"> at {{ post.format_date }}</span></p>
                                            </div>
                                            <div class="col-sm-12 card-body">
                                                <p class="text text-justify">{{ post.post_summary }}...<a class="card-link" href="{% url 'post_detail' post.id %}">Read More</a></p>
                                            </div>
                                            </div>
                                     </div>
                            {% endfor %}
                        {% endif %}
                  {% endif %}
	</div>
              </div>
          </div>

            <div class="row" id="coop_post_">
              <div class="col-sm-12">
                  <div class="container mb-5">
    {% if member.cooperative_posts.count == 0 %}
        <div class="container center-block col-sm-12">
            <h4 class="text text-center  p-3 bg-white">You Have no post yet</h4>
        </div>
    {% else %}
        {% for post in member.cooperative_posts %}
          <div class="row card border-bottom-info shadow-3 rounded mb-2">
                <div class="col-sm-12">
                    <div class="card-header">
                                    <p class="text text-center">
                                        <a class=" text text-center text-info  display-4 font-italic card-link"
                                           style="color:#546c8a; font-size: xx-large"
                                           href="{% url 'post_detail' post.id %}">{{ post.title }}</a>
                        <span class="ml-auto text-left text text-muted font-italic"> at {{ post.format_date }}</span></p>
                    </div>
                    <div class="col-sm-12 card-body">
                        <p class="text text-justify">{{ post.post_summary }}...<a class="card-link" href="{% url 'post_detail' post.id %}">Read More</a></p>
                    </div>
                    </div>
          </div>
        {% endfor %}
    {% endif %}
	</div>
              </div>
          </div>
          </div>
      <!-- End post -->
      <!-- Begin coop_post -->
        <div class="container-fluid" id="cooperative_post">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-2 text-gray-800">Cooperative Posts</h1>
          </div>
        <hr/>

          <!-- profile detail-->
          <div class="row">
              <div class="col-sm-12">
                  <div class="container mb-5">
    {% if coop.all_posts.count == 0 %}
        <div class="container center-block col-sm-12">
            <h4 class="text text-center p-3 bg-white">No Post Yet</h4>
        </div>
    {% else %}
        {% for post in coop.all_posts %}
          <div class="row card border-bottom-success shadow-3 rounded">
                <div class="col-sm-12">
                    <div class="card-header">
                                    <p class="text text-center">
                                        <a class=" text text-center text-success  display-4 font-italic card-link"
                                           style="color:#546c8a; font-size: xx-large"
                                           href="{% url 'post_detail' post.id %}">{{ post.title }}</a>
                        <span class="ml-auto text-left text text-muted font-italic"> by
                            <a href="{% url 'profile' post.author_detail.id %}" class="card-link">{{ post.author_detail.username }}</a> at {{ post.format_date }}</span></p>
                    </div>
                    <div class="col-sm-12 card-body">
                        <p class="text text-justify">{{ post.post_summary }}...<a class="card-link" href="{% url 'post_detail' post.id %}">Read More</a></p>
                    </div>
                    </div>
          </div>
        {% endfor %}
    {% endif %}
	</div>
              </div>
          </div>

      </div>
      <!-- End coop_post -->

      <!-- Begin investment -->
        <div class="container-fluid" id="my_investments">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 id="my_investment_title_" class="h3 mb-2 text-gray-800">My Investments</h1>
            <a href="{% url 'add_investment' %}" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-edit fa-sm text-white-50"></i> Make Investment</a>
          </div>
        <hr/>

          <!-- profile detail-->
             <div id="verified_investments_" class="row">
              <div class="col-sm-12">
                  <div class="card shadow mb-4">
                      <div class="card-body">
                        {% if member.verified_investments.count > 0 %}
                          <div class="table-responsive">
                            <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4"><div class="row"><div class="col-sm-12 col-md-6"><div class="dataTables_length" id="dataTable_length"><label>Show <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-12 col-md-6"><div id="dataTable_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label></div></div></div><div class="row"><div class="col-sm-12"><table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                              <thead>
                                <tr>
                                    <th rowspan="1" colspan="1">Amount</th>
                                    <th rowspan="1" colspan="1">Need Invested For</th>
                                    <th rowspan="1" colspan="1">Time of Investment</th>
                                    <th rowspan="1" colspan="1">Proof of Payment</th>
                                    <th rowspan="1" colspan="1">Investment Share</th>
                                    </tr>
                              </thead>
                              <tbody>
                              {% for investment in member.verified_investments %}
                              <tr role="row" class="odd">
                                  <td>N{{investment.amount}}</td>
                                  <td>{{ investment.need_detail }}</td>
                                  <td>{{ investment.time }}</td>
                                  <td><a class="card-link" href="{{ investment.payment_proof.url }}">{{ investment.payment_proof.url }}</a></td>
                                  <td>{{ investment.share }}%</td>
                                 </tr>
                              {% endfor %}
                              </tbody>
                            </table></div></div><div class="row"><div class="col-sm-12 col-md-5"><div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div></div><div class="col-sm-12 col-md-7"><div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate"><ul class="pagination"><li class="paginate_button page-item previous disabled" id="dataTable_previous"><a href="#" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a></li><li class="paginate_button page-item active"><a href="#" aria-controls="dataTable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="2" tabindex="0" class="page-link">2</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="3" tabindex="0" class="page-link">3</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="4" tabindex="0" class="page-link">4</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="5" tabindex="0" class="page-link">5</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="6" tabindex="0" class="page-link">6</a></li><li class="paginate_button page-item next" id="dataTable_next"><a href="#" aria-controls="dataTable" data-dt-idx="7" tabindex="0" class="page-link">Next</a></li></ul></div></div></div></div>
                          </div>
                        {% else %}
                            <h4 class="text text-center">You don't have any verified investment</h4>
                        {% endif %}
                    </div>
                    </div>
              </div>
          </div>
             <div id="unverified_investments_" class="row">
              <div class="col-sm-12">
                  <div class="card shadow mb-4">
                      <div class="card-body">
                        {% if member.unverified_investments.count > 0 %}
                          <div class="table-responsive">
                            <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4"><div class="row"><div class="col-sm-12 col-md-6"><div class="dataTables_length" id="dataTable_length"><label>Show <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-12 col-md-6"><div id="dataTable_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label></div></div></div><div class="row"><div class="col-sm-12"><table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                              <thead>
                                <tr>
                                    <th rowspan="1" colspan="1">Amount</th>
                                    <th rowspan="1" colspan="1">Need Invested For</th>
                                    <th rowspan="1" colspan="1">Time of Investment</th>
                                    <th rowspan="1" colspan="1">Proof of Payment</th>
                                    </tr>
                              </thead>
                              <tbody>
                              {% for investment in member.unverified_investments %}
                              <tr role="row" class="odd">
                                  <td>N{{investment.amount}}</td>
                                  <td>{{ investment.need_detail }}</td>
                                  <td>{{ investment.time }}</td>
                                  <td><a class="card-link" href="{{ investment.payment_proof.url }}">{{ investment.payment_proof.url }}</a></td>
                                 </tr>
                              {% endfor %}
                              </tbody>
                            </table></div></div><div class="row"><div class="col-sm-12 col-md-5"><div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div></div><div class="col-sm-12 col-md-7"><div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate"><ul class="pagination"><li class="paginate_button page-item previous disabled" id="dataTable_previous"><a href="#" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a></li><li class="paginate_button page-item active"><a href="#" aria-controls="dataTable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="2" tabindex="0" class="page-link">2</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="3" tabindex="0" class="page-link">3</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="4" tabindex="0" class="page-link">4</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="5" tabindex="0" class="page-link">5</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="6" tabindex="0" class="page-link">6</a></li><li class="paginate_button page-item next" id="dataTable_next"><a href="#" aria-controls="dataTable" data-dt-idx="7" tabindex="0" class="page-link">Next</a></li></ul></div></div></div></div>
                          </div>
                        {% else %}
                            <h4 class="text text-center">You don't have any unverified investment</h4>
                        {% endif %}
                    </div>
                    </div>
              </div>
          </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End investment -->
      <!-- Begin loans -->
        <div class="container-fluid" id="my_loans">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 id="my_loan_title_" class="h3 mb-2 text-gray-800">My Loans</h1>
            <a href="{% url 'add_loan' %}" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-edit fa-sm text-white-50"></i> Request Loan</a>
          </div>
        <hr/>

          <!-- profile detail-->
          <div id="paid_loans_" class="row">
              <div class="col-sm-12">
                  <div class="card shadow mb-4">
                      <div class="card-body">
                        {% if member.paid_loans.count > 0 %}
                          <div class="table-responsive">
                            <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4"><div class="row"><div class="col-sm-12 col-md-6"><div class="dataTables_length" id="dataTable_length"><label>Show <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-12 col-md-6"><div id="dataTable_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label></div></div></div><div class="row"><div class="col-sm-12"><table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                              <thead>
                                <tr>
                                    <th rowspan="1" colspan="1">Amount</th>
                                    <th rowspan="1" colspan="1">Request Date</th>
                                    <th rowspan="1" colspan="1">Verification Date</th>
                                    <th rowspan="1" colspan="1">Payment Date</th>
                                     <th rowspan="1" colspan="1">Collateral</th>
                                    <th rowspan="1" colspan="1">Interest Rate</th>
                                    <th rowspan="1" colspan="1">Amount Paid</th>
                                    </tr>
                              </thead>
                              <tbody>
                              {% for loan in member.paid_loans %}
                              <tr role="row" class="odd">
                                  <td>N{{loan.amount}}</td>
                                  <td>{{ loan.time_asked }}</td>
                                  <td>{{ loan.time_granted }}</td>
                                  <td>{{ loan.time_payed }}</td>
                                  <td>{% if loan.all_collateral.count > 0 %}{% for coll in loan.all_collateral %}
                                      <a class="card-link" href="{{ coll.document.url }}">{{ coll.title}}</a>
                                  {% endfor %}{% else %}No Collateral{% endif %}</td>
                                  <td>{{ loan.percentage_of_interest }}%</td>
                                  <td>N{{ loan.amount_to_pay }}</td>
                                 </tr>
                              {% endfor %}
                              </tbody>
                            </table></div></div><div class="row"><div class="col-sm-12 col-md-5"><div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div></div><div class="col-sm-12 col-md-7"><div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate"><ul class="pagination"><li class="paginate_button page-item previous disabled" id="dataTable_previous"><a href="#" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a></li><li class="paginate_button page-item active"><a href="#" aria-controls="dataTable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="2" tabindex="0" class="page-link">2</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="3" tabindex="0" class="page-link">3</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="4" tabindex="0" class="page-link">4</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="5" tabindex="0" class="page-link">5</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="6" tabindex="0" class="page-link">6</a></li><li class="paginate_button page-item next" id="dataTable_next"><a href="#" aria-controls="dataTable" data-dt-idx="7" tabindex="0" class="page-link">Next</a></li></ul></div></div></div></div>
                          </div>
                        {% else %}
                            <h4 class="text text-center">You don't have any paid loan</h4>
                        {% endif %}
                    </div>
                  </div>
              </div>
          </div>
            <div id="unpaid_loans_">
              <div class="col-sm-12">
                  <div class="card shadow mb-4">
                      <div class="card-body">
                        {% if member.unpaid_loans.count > 0 %}
                          <div class="table-responsive">
                            <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4"><div class="row"><div class="col-sm-12 col-md-6"><div class="dataTables_length" id="dataTable_length"><label>Show <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-12 col-md-6"><div id="dataTable_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label></div></div></div><div class="row"><div class="col-sm-12"><table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                              <thead>
                                <tr>
                                    <th rowspan="1" colspan="1">Amount</th>
                                    <th rowspan="1" colspan="1">Request Date</th>
                                    <th rowspan="1" colspan="1">Verification Date</th>
                                    <th rowspan="1" colspan="1">Payment Date</th>
                                     <th rowspan="1" colspan="1">Collateral</th>
                                    <th rowspan="1" colspan="1">Interest Rate</th>
                                    <th rowspan="1" colspan="1">Amount to Pay</th>
                                    </tr>
                              </thead>
                              <tbody>
                              {% for loan in member.unpaid_loans %}
                              <tr role="row" class="odd">
                                  <td>N{{loan.amount}}</td>
                                  <td>{{ loan.time_asked }}</td>
                                  <td>{{ loan.time_granted }}</td>
                                  <td>{{ loan.time_payed }}</td>
                                  <td>{% if loan.all_collateral.count > 0 %}{% for coll in loan.all_collateral %}
                                      <a class="card-link" href="{{ coll.document.url }}">{{ coll.title}}</a>
                                  {% endfor %}{% else %}No Collateral{% endif %}</td>
                                  <td>{{ loan.percentage_of_interest }}%</td>
                                  <td>N{{ loan.amount_to_pay }}</td>
                                 </tr>
                              {% endfor %}
                              </tbody>
                            </table></div></div><div class="row"><div class="col-sm-12 col-md-5"><div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div></div><div class="col-sm-12 col-md-7"><div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate"><ul class="pagination"><li class="paginate_button page-item previous disabled" id="dataTable_previous"><a href="#" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a></li><li class="paginate_button page-item active"><a href="#" aria-controls="dataTable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="2" tabindex="0" class="page-link">2</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="3" tabindex="0" class="page-link">3</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="4" tabindex="0" class="page-link">4</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="5" tabindex="0" class="page-link">5</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="6" tabindex="0" class="page-link">6</a></li><li class="paginate_button page-item next" id="dataTable_next"><a href="#" aria-controls="dataTable" data-dt-idx="7" tabindex="0" class="page-link">Next</a></li></ul></div></div></div></div>
                          </div>
                        {% else %}
                            <h4 class="text text-center">You don't have any unpaid loan</h4>
                        {% endif %}
                    </div>
                    </div>
              </div>
          </div>
            <div id="unverified_loans_">
              <div class="col-sm-12">
                  <div class="card shadow mb-4">
                      <div class="card-body">
                        {% if member.unverified_loans.count > 0 %}
                          <div class="table-responsive">
                            <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4"><div class="row"><div class="col-sm-12 col-md-6"><div class="dataTables_length" id="dataTable_length"><label>Show <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-12 col-md-6"><div id="dataTable_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label></div></div></div><div class="row"><div class="col-sm-12"><table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                              <thead>
                                <tr>
                                    <th rowspan="1" colspan="1">Amount</th>
                                    <th rowspan="1" colspan="1">Request Date</th>
                                     <th rowspan="1" colspan="1">Collateral</th>
                                    </tr>
                              </thead>
                              <tbody>
                              {% for loan in member.unverified_loans %}
                              <tr role="row" class="odd">
                                  <td>N{{loan.amount}}</td>
                                  <td>{{ loan.time_asked }}</td>
                                  <td>{{ loan.time_payed }}</td>
                                  <td>{% if loan.all_collateral.count > 0 %}{% for coll in loan.all_collateral %}
                                      <a class="card-link" href="{{ coll.document.url }}">{{ coll.title}}</a>
                                  {% endfor %}{% else %}No Collateral{% endif %}</td>
                                 </tr>
                              {% endfor %}
                              </tbody>
                            </table></div></div><div class="row"><div class="col-sm-12 col-md-5"><div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div></div><div class="col-sm-12 col-md-7"><div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate"><ul class="pagination"><li class="paginate_button page-item previous disabled" id="dataTable_previous"><a href="#" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a></li><li class="paginate_button page-item active"><a href="#" aria-controls="dataTable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="2" tabindex="0" class="page-link">2</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="3" tabindex="0" class="page-link">3</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="4" tabindex="0" class="page-link">4</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="5" tabindex="0" class="page-link">5</a></li><li class="paginate_button page-item "><a href="#" aria-controls="dataTable" data-dt-idx="6" tabindex="0" class="page-link">6</a></li><li class="paginate_button page-item next" id="dataTable_next"><a href="#" aria-controls="dataTable" data-dt-idx="7" tabindex="0" class="page-link">Next</a></li></ul></div></div></div></div>
                          </div>
                        {% else %}
                            <h4 class="text text-center">You don't have any unverified loan</h4>
                        {% endif %}
                    </div>
                    </div>
              </div>
          </div>

      </div>
      <!-- End loans -->


    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Bootstrap core JavaScript-->
  <script src="{% static 'sb/vendor/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'sb/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

  <!-- Core plugin JavaScript-->
  <script src="{% static 'sb/vendor/jquery-easing/jquery.easing.min.js' %}"></script>

  <!-- Custom scripts for all pages-->
  <script src="{% static 'sb/js/sb-admin-2.min.js' %}"></script>

  <!-- Page level plugins -->
  <script src="{% static 'sb/vendor/chart.js/Chart.min.js' %}"></script>

  <!-- Page level custom scripts -->
  <script src="{% static 'sb/js/demo/chart-area-demo.js' %}"></script>
  <script src="{% static 'sb/js/demo/chart-pie-demo.js' %}"></script>
  </div>
</main>
{% endblock main %}

